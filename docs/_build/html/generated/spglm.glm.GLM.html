<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>spglm.glm.GLM &mdash; spglm v1.0.5 Manual</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pysal-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/pysal_favicon.ico"/>
    <link rel="top" title="spglm v1.0.5 Manual" href="../index.html" />
    <link rel="up" title="API reference" href="../api.html" />
    <link rel="prev" title="API reference" href="../api.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          spglm</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.5</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../installation.html">Installation</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../references.html">References</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#glm">GLM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">spglm.glm.GLM</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="spglm-glm-glm">
<h1>spglm.glm.GLM<a class="headerlink" href="#spglm-glm-glm" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="spglm.glm.GLM">
<em class="property">class </em><code class="descclassname">spglm.glm.</code><code class="descname">GLM</code><span class="sig-paren">(</span><em>y</em>, <em>X</em>, <em>family=&lt;spglm.family.Gaussian object&gt;</em>, <em>offset=None</em>, <em>y_fix=None</em>, <em>constant=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spglm/glm.html#GLM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spglm.glm.GLM" title="Permalink to this definition">¶</a></dt>
<dd><p>Generalised linear models. Can currently estimate Guassian, Poisson and
Logisitc regression coefficients. GLM object prepares model input and fit
method performs estimation which then returns a GLMResults object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>y</strong></dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array</span><dd><blockquote class="first">
<div><p>n*1, dependent variable.</p>
</div></blockquote>
<dl class="last docutils">
<dt>X</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array</span><dd><p class="first last">n*k, independent variable, exlcuding the constant.</p>
</dd>
<dt>family</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">string</span><dd><p class="first last">Model type: &#8216;Gaussian&#8217;, &#8216;Poisson&#8217;, &#8216;Binomial&#8217;</p>
</dd>
<dt>offset</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array</span><dd><p class="first last">n*1, the offset variable at the ith location. For Poisson model
this term is often the size of the population at risk or
the expected size of the outcome in spatial epidemiology.
Default is None where Ni becomes 1.0 for all locations.</p>
</dd>
<dt>y_fix</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array</span><dd><p class="first last">n*1, the fix intercept value of y</p>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">libpysal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spglm.glm</span> <span class="k">import</span> <span class="n">GLM</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spglm.family</span> <span class="k">import</span> <span class="n">Gaussian</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">libpysal</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">libpysal</span><span class="o">.</span><span class="n">examples</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;columbus.dbf&#39;</span><span class="p">),</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">by_col</span><span class="p">(</span><span class="s2">&quot;HOVAL&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">49</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">by_col</span><span class="p">(</span><span class="s2">&quot;INC&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">by_col</span><span class="p">(</span><span class="s2">&quot;CRIME&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">GLM</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="n">Gaussian</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">params</span>
<span class="go">array([46.42818268,  0.62898397, -0.48488854])</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>y</strong></dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array</span><dd><blockquote class="first">
<div><p>n*1, dependent variable.</p>
</div></blockquote>
<dl class="last docutils">
<dt>X</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array</span><dd><p class="first last">n*k, independent variable, including constant.</p>
</dd>
<dt>family</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">string</span><dd><p class="first last">Model type: &#8216;Gaussian&#8217;, &#8216;Poisson&#8217;, &#8216;logistic&#8217;</p>
</dd>
<dt>n</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span><dd><p class="first last">Number of observations</p>
</dd>
<dt>k</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span><dd><p class="first last">Number of independent variables</p>
</dd>
<dt>df_model</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">k-1, where k is the number of variables (including
intercept)</p>
</dd>
<dt>df_residual</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">observations minus variables (n-k)</p>
</dd>
<dt>mean_y</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">Mean of y</p>
</dd>
<dt>std_y</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">Standard deviation of y</p>
</dd>
<dt>fit_params</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">Parameters passed into fit method to define estimation
routine.</p>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code>([ini_betas,&nbsp;tol,&nbsp;max_iter,&nbsp;solve])</td>
<td>Method that fits a model with a particular estimation routine.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="55%" />
<col width="45%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>df_model</strong></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><strong>df_resid</strong></td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="spglm.glm.GLM.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>y</em>, <em>X</em>, <em>family=&lt;spglm.family.Gaussian object&gt;</em>, <em>offset=None</em>, <em>y_fix=None</em>, <em>constant=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/spglm/glm.html#GLM.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spglm.glm.GLM.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize class</p>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#spglm.glm.GLM.__init__" title="spglm.glm.GLM.__init__"><code class="xref py py-obj docutils literal"><span class="pre">__init__</span></code></a>(y,&nbsp;X[,&nbsp;family,&nbsp;offset,&nbsp;y_fix,&nbsp;constant])</td>
<td>Initialize class</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">df_model</span></code>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">df_resid</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code>([ini_betas,&nbsp;tol,&nbsp;max_iter,&nbsp;solve])</td>
<td>Method that fits a model with a particular estimation routine.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">mean_y</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">std_y</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/generated/spglm.glm.GLM.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018, pysal developers.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>